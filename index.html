<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-es="CAdo Crecimiento Adolescente" data-en="CAdo Adolescent Growth">CAdo Crecimiento Adolescente</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
  <link href="css/styles.css" rel="stylesheet" />
  <link rel="shortcut icon" href="img/logos/logo transparente.png" type="image/x-icon">
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div id="particles-js"></div>
 
<header class="fade-in">
  <div class="container-header">
    
    <!-- Logo y usuario -->
    <div class="fila-logo">
      <div class="logo-wrapper">
        <span id="logoTexto" class="logo-cado">CAdo</span>
        <span id="fraseCado" class="frase-cado"></span>
      </div>
      <a href="perfil.html" class="icono-usuario" title="Perfil" aria-label="Perfil">
        <i class="fas fa-user-circle"></i>
      </a>
    </div>

    <!-- Botones m√≥viles -->
    <div class="fila-menu">
      <button id="menuToggle" class="hamburger" aria-label="Abrir men√∫">
        <i class="fas fa-bars"></i>
      </button>
      <button id="translateBtnMobile" class="btn-translate" data-es="EN" data-en="ES">EN</button>
    </div>

    <!-- Men√∫ principal -->
    <nav class="main-nav glass-nav" role="navigation">
      <ul>
        <li><a href="#somosCAdo">Quienes Somos</a></li>
        <li><a href="avances.html">Nuestros Avances</a></li>
        <li><a href="#nuestrosObjetivos">Nuestra ayuda</a></li>
        <li><a href="#caracteristicas">Contactos</a></li>
        <li>
          <button id="toggleFormBtn" class="boton-emocion glow-btn">
            Selecciona tu emoci√≥n
          </button>
        </li>
        <li>
          <button id="translateBtn" class="btn-translate" data-es="EN" data-en="ES">EN</button>
        </li>
      </ul>
    </nav>
  </div>
</header>

<!-- MODAL EMOCIONES -->
<div id="emotionFormModal" class="modal hidden">
  <div class="modal-content fade-in">
    <h2 class="sentimientos" data-es="¬øC√≥mo te sent√≠s hoy?" data-en="How do you feel today?">
      ¬øC√≥mo te sent√≠s hoy?
    </h2>
    <form id="personalization-form">
      <select id="emotion" name="emotion" required>
        <option value="">-- Eleg√≠ una emoci√≥n --</option>
        <option value="normal" data-es="Normal" data-en="Normal">Normal</option>
        <option value="alegria" data-es="Alegr√≠a" data-en="Joy">Alegr√≠a</option>
        <option value="furia" data-es="Furia" data-en="Anger">Furia</option>
        <option value="tristeza" data-es="Tristeza" data-en="Sadness">Tristeza</option>
        <option value="miedo" data-es="Miedo" data-en="Fear">Miedo</option>
        <option value="verguenza" data-es="Verg√ºenza" data-en="Shame">Verg√ºenza</option>
      </select>
      <button type="submit" class="glow-btn" data-es="Guardar y continuar" data-en="Save and continue">
        Guardar y continuar
      </button>
    </form>
  </div>
</div>

<!-- HERO -->
<section id="hero" class="fade-in hero-section">
  <h1 class="float sentimientos" 
      data-es="Aprende de la adolescencia con CAdo" 
      data-en="Learn from adolescence with CAdo">
      Aprende de la adolescencia con CAdo
  </h1>
  <button onclick="mostrarModal()" class="glow-btn" 
          data-es="Conoce M√°s" data-en="Learn More">Conoce M√°s</button>
</section>

<!-- MODAL DE BIENVENIDA -->
<div id="modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <div class="modal-content zoom-effect">
    <h3 id="modalTitle" class="sentimientos" 
        data-es="¬°Hola! Gracias por tu inter√©s" 
        data-en="Hi! Thanks for your interest">
        ¬°Hola! Gracias por tu inter√©s
    </h3>
    <p data-es="Somos CAdo, un proyecto que tiene un sue√±o: ayudarte a entender todas las etapas que atravesamos mientras crecemos. Todav√≠a somos j√≥venes, pero tenemos personas que nos apoyan, nos escuchan y nos gu√≠an. Sabemos que crecer puede dar miedo, pero tambi√©n es una oportunidad para descubrir tu fuerza, tu voz y tu valor. No est√°s solo/a en este camino. En CAdo, creemos en vos, en tu historia y en todo lo que pod√©s llegar a ser." 
       data-en="We are CAdo, a project with a dream: to help you understand the stages we go through as we grow. We are still young, but we have people who support, listen to, and guide us. We know growing up can be scary, but it's also a chance to discover your strength, your voice, and your worth. You're not alone on this path. At CAdo, we believe in you, in your story, and in everything you can become.">
       Somos CAdo, un proyecto que tiene un sue√±o: ayudarte a entender todas las etapas que atravesamos mientras crecemos...
    </p>
    <button class="close-btn glow-btn" onclick="cerrarModal()" 
            data-es="Cerrar" data-en="Close">Cerrar</button>
  </div>
</div>

<section id="somosCAdo" class="fade-in">
  <h2 class="section-title float sentimientos"
      data-es="Somos CAdo"
      data-en="We are CAdo"
      data-aos="fade-down">
      Somos CAdo
  </h2>

  <h3 class="subtitulo-cado"
      data-es="Creciendo juntos, paso a paso"
      data-en="Growing together, step by step"
      data-aos="fade-up" data-aos-delay="200">
      Creciendo juntos, paso a paso
  </h3>

  <div class="somos-contenido" data-aos="zoom-in" data-aos-delay="400">
    <img src="img/logos/logo transparente.png" alt="Logo CAdo" class="logo-cado">

  <p class="destacado" data-es="Somos CAdo, un proyecto que busca asistir no solo a los adolescentes, sino tambi√©n a los pre-adolescentes y adultos para que puedan ayudar y aprender sobre lo que es la adolescencia con sus cambios. Buscamos que la adolescencia no sea una etapa de separaci√≥n y odio, sino una etapa de cambio para todos. Por eso ofrecemos" data-en="We are CAdo, a project that aims to help not only teenagers but also pre-teens and adults, so they can learn about adolescence and its changes. We seek for adolescence not to be a phase of separation or hatred, but rather a phase of change for everyone.">Somos CAdo, un proyecto que busca asistir no solo a los adolescentes, sino tambi√©n a los pre-adolescentes y adultos para que puedan ayudar y aprender sobre lo que es la adolescencia con sus cambios. Buscamos que la adolescencia no sea una etapa de separaci√≥n y odio, sino una etapa de cambio para todos. Por eso ofrecemos</p>
</div>

  <!-- Bloque de valores -->
  <div class="valores-cado">
    <div class="valor" data-aos="fade-right">
      <i class="fas fa-hands-helping"></i>
      <h4 data-es="Acompa√±amiento" data-en="Support">Acompa√±amiento</h4>
      <p data-es="Estamos para escucharte y guiarte en cada paso."
         data-en="We are here to listen and guide you."></p>
    </div>

    <div class="valor" data-aos="fade-up" data-aos-delay="200">
      <i class="fas fa-seedling"></i>
      <h4 data-es="Crecimiento" data-en="Growth">Crecimiento</h4>
      <p data-es="Cada desaf√≠o es una oportunidad para crecer."
         data-en="Every challenge is a chance to grow."></p>
    </div>

    <div class="valor" data-aos="fade-left" data-aos-delay="400">
      <i class="fas fa-users"></i>
      <h4 data-es="Comunidad" data-en="Community">Comunidad</h4>
      <p data-es="No caminamos solos, somos parte de algo m√°s grande."
         data-en="We don‚Äôt walk alone, we are part of something bigger."></p>
    </div>
  </div>

  <!-- Contadores -->
  <div class="contador-cado" data-aos="zoom-in">
    <div><span class="contador" data-target="500">0</span>+ adolescentes acompa√±ados</div>
    <div><span class="contador" data-target="30">0</span>+ talleres realizados</div>
    <div><span class="contador" data-target="10">0</span>+ educadores aliados</div>
  </div>

  
</section>

 <section id="nuestrosObjetivos">
  <h2 class="section-title sentimientos" data-es="Nuestra Ayuda" data-en="Our Help">üåå Nuestra Ayuda üåå</h2>
  <p class="intro-objetivos" 
     data-es="Cada etapa es √∫nica. En CAdo te acompa√±amos a descubrir, comprender y crecer con confianza." 
     data-en="Each stage is unique. At CAdo we guide you to discover, understand and grow with confidence.">
     Cada etapa es √∫nica. En CAdo te acompa√±amos a descubrir, comprender y crecer con confianza.
  </p>

  <div class="programas">
    <!-- Preadolescente -->
    <div class="carta carta-animada glow" data-aos="fade-up" data-aos-delay="200">
      <div class="img-container">
        <img src="img/secciones/5.png" alt="Preadolescente">
      </div>
      <h3 class="sentimientos">Preadolescente</h3>
      <p>De 9 a 13 a√±os üå± Un viaje de primeras preguntas y descubrimientos. Te ayudamos a entender cada cambio con calma y seguridad.</p>
      <a href="preadolescente.html"><button class="neon-btn">+ Info</button></a>
    </div>

    <!-- Adolescentes -->
    <div class="carta carta-animada glow" data-aos="fade-up" data-aos-delay="400">
      <div class="img-container">
        <img src="img/secciones/2.png" alt="Adolescentes conversando">
      </div>
      <h3 class="sentimientos">Adolescentes</h3>
      <p>De 13 a 21 a√±os üî• Una etapa de emociones intensas y b√∫squeda de identidad. En CAdo no te damos todas las respuestas, pero te damos el poder de encontrarlas.</p>
      <a href="adolescente.html"><button class="neon-btn">+ Info</button></a>
    </div>

    <!-- Adultos -->
    <div class="carta carta-animada glow" data-aos="fade-up" data-aos-delay="600">
      <div class="img-container">
        <img src="img/secciones/3.png" alt="Padre hablando con hijo">
      </div>
      <h3 class="sentimientos">Adultos</h3>
      <p>+21 a√±os üí° Ser gu√≠a tambi√©n es un reto. Te mostramos c√≥mo acompa√±ar, comprender y estar presentes en cada paso de la adolescencia.</p>
      <a href="adultos.html"><button class="neon-btn">+ Info</button></a>
    </div>
  </div>
</section>



  <section id="caracteristicas">
   <h2 class="section-title sentimientos" data-es="Contactos" data-en="Contacts">Contactos</h2>
    <ul style="list-style: none; text-align:center; font-size:1.1em;">

 <section id="caracteristicas">
  <div class="carrusel-contenedor">
    <div class="carrusel" id="carrusel">
      <img src="img/integrantes/Bian.jpg" alt="">
      <img src="img/integrantes/gaston.jpg" alt="">
      <img src="img/integrantes/Male.jpg" alt="">  
      <img src="img/integrantes/Guadi.jpg" alt="100" style="display: flex;">
      <img src="img/integrantes/El mejor der todos Yo.jpg" alt="">
    </div>
    <button class="flecha izquierda" onclick="moverCarrusel(-1)">&#10094;</button>
    <button class="flecha derecha" onclick="moverCarrusel(1)">&#10095;</button>
  </div>

  <div style="text-align: center; margin-top: 2rem;">
    <a href="contactos.html">
      <button id="conocenosBtn" class="sentimientos zoom-effect" style="background-color: #306acb; color: white;padding: 14px 30px;
      border: none; border-radius: 40px;font-size: 1.3rem;font-weight: bold;cursor: pointer;transition: all 0.3s ease;"> Con√≥cenos </button>
    </a>
  </div>
</section>
</section>

<footer>
  <!-- L√≠nea animada de crecimiento -->

 

   <div class="social-icons">
    <a href="https://www.facebook.com/profile.php?id=61579785754907" target="_blank"><i class="fab fa-facebook"></i></a>
    <a href="https://www.instagram.com/cado_crecimientoadolescente/" target="_blank"><i class="fab fa-instagram"></i></a>
    <a href="https://www.tiktok.com/@crecimiento_adolescente" target="_blank"><i class="fab fa-tiktok"></i></a>
  </div>
  <p>¬© CAdo 2025 - Todos los derechos reservados.</p>
 
    <div class="growth-line">
     <div class="growth-background"></div> <!-- Fondo animado -->
    <div class="growth-sequence">
      <img src="img/footer/1.png" alt="Beb√©" class="stage stage-1">
      <img src="img/footer/2.png" alt="Ni√±o" class="stage stage-2">
      <img src="img/footer/3.png" alt="Joven" class="stage stage-3">
      <img src="img/footer/4.png" alt="Adolescente" class="stage stage-4">
      <img src="img/footer/5.png" alt="Adulto" class="stage stage-5">
    </div>
  </div>
</footer>

  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/particles.js"></script>
  <script src="js/main.js"></script>

 <!-- üöÄ Chatbot MEJORADO -->
  <div id="chat-toggle" onclick="abrirChat()">
    <i class="fas fa-comments"></i>
    <div id="notification-badge" class="notification-badge hidden">1</div>
  </div>
  
  <div id="chat-widget" class="hidden">
    <div class="chat-header">
      <div class="header-left">
        <div class="bot-avatar">
          <i class="fas fa-robot"></i>
        </div>
        <div class="bot-info">
          <div class="bot-name">CAdo Assistant</div>
          <div class="bot-status">
            <span class="status-dot"></span>
            En l√≠nea
          </div>
        </div>
      </div>
      <div class="header-actions">
        <button onclick="minimizarChat()" class="header-btn" title="Minimizar">
          <i class="fas fa-minus"></i>
        </button>
        <button onclick="cerrarChat()" class="header-btn" title="Cerrar">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>

    <div class="chat-body" id="chat-body">
      <div class="message-container bot-message">
        <div class="message-avatar">
          <i class="fas fa-robot"></i>
        </div>
        <div class="message-content">
          <div class="message-bubble welcome-message">
            ¬°Hola! üëã Soy CAdo Assistant, tu compa√±ero para entender mejor la adolescencia.
            
            <div class="quick-topics">
              <div class="topic-chip" onclick="enviarPreguntaRapida('¬øQu√© es la preadolescencia?')">
                <i class="fas fa-child"></i> Preadolescencia
              </div>
              <div class="topic-chip" onclick="enviarPreguntaRapida('¬øQu√© es la adolescencia?')">
                <i class="fas fa-user-friends"></i> Adolescencia
              </div>
              <div class="topic-chip" onclick="enviarPreguntaRapida('Consejos para padres')">
                <i class="fas fa-heart"></i> Padres
              </div>
            </div>
          </div>
          <div class="message-time">Ahora</div>
        </div>
      </div>
    </div>

    <!-- Indicador de escritura -->
    <div class="typing-indicator hidden" id="typing-indicator">
      <div class="typing-avatar">
        <i class="fas fa-robot"></i>
      </div>
      <div class="typing-bubble">
        <div class="typing-dots">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </div>

    <!-- Respuestas r√°pidas -->
    <div class="quick-replies" id="quick-replies">
      <div class="quick-reply" onclick="enviarPreguntaRapida('¬øPor qu√© me siento confundido?')">
        <i class="fas fa-question-circle"></i>
        Confusi√≥n
      </div>
      <div class="quick-reply" onclick="enviarPreguntaRapida('¬øC√≥mo hablar con mis padres?')">
        <i class="fas fa-family"></i>
        Familia
      </div>
      <div class="quick-reply" onclick="enviarPreguntaRapida('Me siento triste')">
        <i class="fas fa-heart-broken"></i>
        Tristeza
      </div>
    </div>

    <!-- Input mejorado -->
    <div class="chat-input-area">
      <div class="input-container">
        <button class="emoji-btn" onclick="toggleEmojiPicker()" title="Emojis">
          <i class="fas fa-smile"></i>
        </button>
        <input 
          type="text" 
          id="chat-input" 
          placeholder="Escribe tu mensaje..." 
          onkeydown="manejarEnter(event)"
          maxlength="300"
        >
        <div class="char-counter" id="char-counter">300</div>
        <button onclick="enviarMensaje()" class="send-btn" id="send-btn" title="Enviar">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
  </div>

  <!-- Picker de emojis -->
  <div id="emoji-picker" class="emoji-picker hidden">
    <div class="emoji-header">Emojis frecuentes</div>
    <div class="emoji-grid">
      <span onclick="insertarEmoji('üòä')">üòä</span>
      <span onclick="insertarEmoji('üò¢')">üò¢</span>
      <span onclick="insertarEmoji('üòî')">üòî</span>
      <span onclick="insertarEmoji('üò∞')">üò∞</span>
      <span onclick="insertarEmoji('üò§')">üò§</span>
      <span onclick="insertarEmoji('ü§î')">ü§î</span>
      <span onclick="insertarEmoji('‚ù§Ô∏è')">‚ù§Ô∏è</span>
      <span onclick="insertarEmoji('üëç')">üëç</span>
      <span onclick="insertarEmoji('üåü')">üåü</span>
      <span onclick="insertarEmoji('üí™')">üí™</span>
    </div>
  </div>
  <style>    .hidden { display: none !important; }

    #chat-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: linear-gradient(135deg, #306acb, #4a90ff);
      color: white;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 8px 25px rgba(48, 106, 203, 0.4);
      transition: all 0.3s ease;
      z-index: 1000;
      border: none;
      animation: chatPulse 3s infinite;
    }

    #chat-toggle:hover {
      transform: translateY(-3px);
   
   box-shadow: 0 12px 35px rgba(48, 106, 203, 0.6);
    }

    @keyframes chatPulse {
      0%, 100% { box-shadow: 0 8px 25px rgba(48, 106, 203, 0.4); }
      50% { box-shadow: 0 8px 25px rgba(48, 106, 203, 0.6), 0 0 0 10px rgba(48, 106, 203, 0.1); }
    }

    .notification-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background: #ff4757;
      color: white;
      border-radius: 50%;
      width: 20px;
      height: 20px;
      font-size: 11px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      border: 2px solid white;
      animation: bounce 1s infinite;
    }

    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-5px); }
      60% { transform: translateY(-3px); }
    }

    #chat-widget {
      position: fixed;
      bottom: 90px;
      right: 20px;
      width: 380px;
      max-width: calc(100vw - 40px);
      height: 550px;
      max-height: calc(100vh - 120px);
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
      display: flex;
      flex-direction: column;
      font-family: 'Roboto', sans-serif;
      z-index: 999;
      overflow: hidden;
      animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(100px) scale(0.8);
      }
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .chat-header {
      background: linear-gradient(135deg, #306acb, #4a90ff);
      color: white;
      padding: 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .bot-avatar {
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }

    .bot-name {
      font-weight: 600;
      font-size: 16px;
    }

    .bot-status {
      font-size: 12px;
      opacity: 0.9;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      background: #4ade80;
      border-radius: 50%;
      animation: statusPulse 2s infinite;
    }

    @keyframes statusPulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .header-actions {
      display: flex;
      gap: 8px;
    }

    .header-btn {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s ease;
    }

    .header-btn:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    .chat-body {
      flex: 1;
      padding: 16px;
      overflow-y: auto;
      background: #f8fafc;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .chat-body::-webkit-scrollbar {
      width: 4px;
    }

    .chat-body::-webkit-scrollbar-track {
      background: #f1f1f1;
    }

    .chat-body::-webkit-scrollbar-thumb {
      background: #c1c1c1;
      border-radius: 2px;
    }

    .message-container {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      animation: messageSlide 0.3s ease-out;
    }

    @keyframes messageSlide {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .user-message {
      flex-direction: row-reverse;
    }

    .message-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      flex-shrink: 0;
    }

    .bot-message .message-avatar {
      background: linear-gradient(135deg, #306acb, #4a90ff);
      color: white;
    }

    .user-message .message-avatar {
      background: #e2e8f0;
      color: #64748b;
    }

    .message-content {
      flex: 1;
      max-width: calc(100% - 50px);
    }

    .message-bubble {
      background: white;
      padding: 12px 16px;
      border-radius: 16px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      line-height: 1.5;
      font-size: 14px;
      position: relative;
    }

    .user-message .message-bubble {
      background: linear-gradient(135deg, #306acb, #4a90ff);
      color: white;
    }

    .welcome-message {
      background: linear-gradient(135deg, #f0f9ff, #e0f2fe) !important;
      border: 1px solid #bae6fd;
      color: #0369a1 !important;
    }

    .message-time {
      font-size: 11px;
      color: #94a3b8;
      margin-top: 4px;
      text-align: right;
    }

    .user-message .message-time {
      text-align: left;
    }

    .quick-topics {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
    }

    .topic-chip {
      background: #306acb;
      color: white;
      padding: 8px 12px;
      border-radius: 20px;
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 6px;
      border: none;
    }

    .topic-chip:hover {
      background: #2563eb;
      transform: translateY(-1px);
    }

    .typing-indicator {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      background: #f8fafc;
    }

    .typing-avatar {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: linear-gradient(135deg, #306acb, #4a90ff);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
    }

    .typing-bubble {
      background: white;
      padding: 8px 12px;
      border-radius: 16px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .typing-dots {
      display: flex;
      gap: 3px;
    }

    .typing-dots span {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: #94a3b8;
      animation: typingAnimation 1.4s infinite ease-in-out;
    }

    .typing-dots span:nth-child(1) { animation-delay: -0.32s; }
    .typing-dots span:nth-child(2) { animation-delay: -0.16s; }

    @keyframes typingAnimation {
      0%, 80%, 100% {
        transform: scale(0.8);
        opacity: 0.5;
      }
      40% {
        transform: scale(1);
        opacity: 1;
      }
    }

    .quick-replies {
      padding: 12px 16px;
      background: white;
      border-top: 1px solid #e2e8f0;
      display: flex;
      gap: 8px;
      overflow-x: auto;
    }

    .quick-replies::-webkit-scrollbar {
      height: 4px;
    }

    .quick-replies::-webkit-scrollbar-track {
      background: #f1f1f1;
    }

    .quick-replies::-webkit-scrollbar-thumb {
      background: #c1c1c1;
      border-radius: 2px;
    }

    .quick-reply {
      background: #f1f5f9;
      color: #475569;
      padding: 8px 12px;
      border-radius: 16px;
      font-size: 12px;
      cursor: pointer;
      white-space: nowrap;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 6px;
      border: none;
    }

    .quick-reply:hover {
      background: #306acb;
      color: white;
      transform: translateY(-1px);
    }

    .chat-input-area {
      background: white;
      border-top: 1px solid #e2e8f0;
      padding: 16px;
    }

    .input-container {
      display: flex;
      align-items: center;
      background: #f8fafc;
      border-radius: 25px;
      padding: 8px 12px;
      gap: 8px;
      border: 1px solid #e2e8f0;
      transition: border-color 0.2s ease;
    }

    .input-container:focus-within {
      border-color: #306acb;
      box-shadow: 0 0 0 3px rgba(48, 106, 203, 0.1);
    }

    .emoji-btn {
      background: none;
      border: none;
      color: #64748b;
      cursor: pointer;
      padding: 6px;
      border-radius: 50%;
      transition: all 0.2s ease;
      font-size: 16px;
    }

    .emoji-btn:hover {
      background: #e2e8f0;
      color: #306acb;
    }

    #chat-input {
      flex: 1;
      border: none;
      background: transparent;
      outline: none;
      font-size: 14px;
      font-family: 'Roboto', sans-serif;
      padding: 8px 0;
    }

    #chat-input::placeholder {
      color: #94a3b8;
    }

    .char-counter {
      font-size: 11px;
      color: #94a3b8;
      min-width: 30px;
      text-align: right;
    }

    .char-counter.warning {
      color: #f59e0b;
    }

    .char-counter.danger {
      color: #ef4444;
    }

    .send-btn {
      background: #306acb;
      border: none;
      color: white;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      font-size: 14px;
    }

    .send-btn:hover:not(:disabled) {
      background: #2563eb;
      transform: scale(1.05);
    }

    .send-btn:disabled {
      background: #94a3b8;
      cursor: not-allowed;
      transform: none;
    }

    .emoji-picker {
      position: absolute;
      bottom: 80px;
      right: 16px;
      background: white;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
      z-index: 1001;
      width: 200px;
    }

    .emoji-header {
      padding: 12px 16px;
      background: #f8fafc;
      font-size: 12px;
      font-weight: 600;
      color: #475569;
      border-bottom: 1px solid #e2e8f0;
    }

    .emoji-grid {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 4px;
      padding: 12px;
    }

    .emoji-grid span {
      font-size: 20px;
      padding: 8px;
      cursor: pointer;
      border-radius: 6px;
      transition: background 0.2s ease;
      text-align: center;
    }

    .emoji-grid span:hover {
      background: #f1f5f9;
      transform: scale(1.1);
    }

    /* Responsive */
    @media (max-width: 480px) {
      #chat-widget {
        width: calc(100vw - 20px);
        right: 10px;
        bottom: 80px;
        height: calc(100vh - 100px);
      }
      
      #chat-toggle {
        right: 15px;
        bottom: 15px;
        
      }
      #chat-toggle {
  z-index: 2000; /* m√°s alto que el header */
}

#chat-widget {
  z-index: 2100; /* a√∫n m√°s alto para que el panel abierto no quede tapado */
}

    }

</style>
<script>registrarEmocionUsuario(emotion);

    let chatAbierto = false;
    let contadorMensajes = 0;
    let escribiendo = false;
    let conversacionActual = [];

    // Base de conocimiento expandida y mejorada
    const baseConocimiento = [
      // Preadolescencia
      { 
        claves: ["qu√© es la preadolescencia", "preadolescencia", "9 a√±os", "10 a√±os", "11 a√±os", "12 a√±os", "13 a√±os"], 
        respuesta: "üßí La preadolescencia va de los 9 a los 13 a√±os. Es cuando empiezan los primeros cambios f√≠sicos y emocionales, pero todav√≠a conservas parte de la ni√±ez. Es normal sentir curiosidad sobre tu cuerpo y querer encajar m√°s con tus amigos.",
        seguimiento: ["¬øTe preocupa alg√∫n cambio en particular?", "¬øHay algo espec√≠fico que te genera dudas?"]
      },
      { 
        claves: ["cambios preadolescencia", "cambios f√≠sicos", "cuerpo cambia"], 
        respuesta: "üå± En la preadolescencia pueden aparecer: crecimiento en altura, cambios en la voz, aparici√≥n de vello corporal y desarrollo de caracter√≠sticas sexuales. ¬°Cada persona tiene su propio ritmo de crecimiento!",
        seguimiento: ["¬øTe sientes c√≥modo/a hablando sobre estos cambios?"]
      },
      { 
        claves: ["verg√ºenza cuerpo", "pena", "timidez preadolescencia"], 
        respuesta: "üòä Sentir verg√ºenza del cuerpo es s√∫per com√∫n en esta etapa. Muchos preadolescentes sienten lo mismo. Lo importante es hablar con alguien de confianza y recordar que cada cuerpo es diferente y especial.",
        seguimiento: ["¬øTienes a alguien con quien te sientes c√≥modo/a hablando?"]
      },

      // Adolescencia
      { 
        claves: ["qu√© es la adolescencia", "adolescencia", "teenager"], 
        respuesta: "üåü La adolescencia (13-21 a√±os) es cuando construyes tu identidad, experimentas cambios hormonales intensos y las amistades se vuelven s√∫per importantes. Es tu momento de descubrir qui√©n eres realmente.",
        seguimiento: ["¬øQu√© aspecto de la adolescencia te resulta m√°s desafiante?"]
      },
      { 
        claves: ["qui√©n soy", "identidad", "encontrarme"], 
        respuesta: "üîç '¬øQui√©n soy?' es LA pregunta de la adolescencia. Es totalmente normal sentirse confundido/a mientras descubres tus gustos, valores y metas. Este proceso lleva tiempo y cada persona va a su ritmo.",
        seguimiento: ["¬øQu√© cosas te hacen sentir m√°s como 't√∫ mismo/a'?"]
      },
      { 
        claves: ["independencia", "libertad", "autonom√≠a"], 
        respuesta: "üóΩ Querer independencia es s√∫per natural en la adolescencia. No significa que rechaces a tu familia, sino que est√°s aprendiendo a tomar tus propias decisiones. Es parte del crecimiento hacia ser adulto/a.",
        seguimiento: ["¬øEn qu√© √°reas sientes que necesitas m√°s autonom√≠a?"]
      },
      { 
        claves: ["me siento triste", "depresi√≥n", "confundido", "ansiedad"], 
        respuesta: "üíô Muchos adolescentes sienten tristeza, ansiedad o confusi√≥n. Tu cerebro a√∫n est√° desarroll√°ndose y las emociones se sienten m√°s intensas. No est√°s solo/a. Si persiste, hablar con un adulto de confianza puede ayudar mucho.",
        seguimiento: ["¬øHay algo espec√≠fico que te est√° causando estos sentimientos?", "¬øTienes a alguien con quien puedas hablar?"]
      },
      { 
        claves: ["amigos importantes", "relaciones", "encajar"], 
        respuesta: "üë• Los amigos se vuelven s√∫per importantes porque empiezas a buscar tu identidad fuera de la familia. Es normal querer encajar y valorar mucho la opini√≥n de tus pares. ¬°Es parte del desarrollo social!",
        seguimiento: ["¬øC√≥mo te llevas con tus amigos actualmente?"]
      },
      { 
        claves: ["autoestima", "inseguridad", "confianza"], 
        respuesta: "üí™ La autoestima puede ser como una monta√±a rusa en la adolescencia. Consejos que funcionan: rod√©ate de personas que te valoren, evita comparaciones constantes y celebra tus logros, por peque√±os que sean.",
        seguimiento: ["¬øQu√© actividades te hacen sentir m√°s seguro/a de ti mismo/a?"]
      },
      { 
        claves: ["padres no entienden", "familia conflicto", "peleas casa"], 
        respuesta: "üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Los conflictos familiares son normales en esta etapa. Tus padres tambi√©n est√°n aprendiendo a relacionarse con la nueva versi√≥n de ti. La comunicaci√≥n honesta, aunque cueste, suele ayudar mucho.",
        seguimiento: ["¬øHay algo espec√≠fico que te gustar√≠a que tus padres entendieran?"]
      },

      // Padres y adultos
      { 
        claves: ["mi hijo no me habla", "hijo distante", "cerrado"], 
        respuesta: "‚ù§Ô∏è Es muy com√∫n que los adolescentes se vuelvan m√°s reservados. No significa que no los quieran, sino que necesitan espacio para crecer. Lo importante es estar disponibles cuando quieran hablar, sin presionar.",
        seguimiento: ["¬øHas intentado preguntarle sobre sus intereses sin juzgar?"]
      },
      { 
        claves: ["hijo rebelde", "mal comportamiento", "actitud"], 
        respuesta: "üå± La 'rebeld√≠a' suele ser parte del proceso de construcci√≥n de identidad. Los adolescentes necesitan diferenciarse para crecer. Mantengan l√≠mites claros pero con amor y mucha paciencia.",
        seguimiento: ["¬øQu√© comportamientos espec√≠ficos te preocupan m√°s?"]
      },
      { 
        claves: ["comunicaci√≥n hijos", "hablar adolescente"], 
        respuesta: "üí¨ Para mejorar la comunicaci√≥n: escuchen sin juzgar, hagan preguntas abiertas, respeten sus opiniones (aunque no las compartan) y elijan buenos momentos para conversar, como durante actividades juntos.",
        seguimiento: ["¬øQu√© temas te gustar√≠a poder hablar m√°s abiertamente?"]
      },
      { 
        claves: ["poner l√≠mites", "reglas", "disciplina"], 
        respuesta: "üéØ Los l√≠mites son fundamentales, pero deben ser claros, justos y explicados. Los adolescentes necesitan estructura para sentirse seguros, aunque protesten. Combinen firmeza con mucha comprensi√≥n.",
        seguimiento: ["¬øEn qu√© √°reas sienten que necesitan l√≠mites m√°s claros?"]
      },
      { 
        claves: ["consejos para padres", "ser padre", "ayuda padres"], 
        respuesta: "ü§ù Consejos clave para padres: mant√©nganse disponibles emocionalmente, muestren inter√©s genuino en sus cosas, validen sus sentimientos, ofrezcan apoyo sin resolver todo por ellos, y recuerden que est√°n aprendiendo de sus errores.",
        seguimiento: ["¬øC√≥mo sueles mostrar apoyo a tu hijo/a actualmente?"]
      },

      // Emociones espec√≠ficas
      { 
        claves: ["me siento solo", "soledad", "nadie entiende"], 
        respuesta: "ü´Ç Sentirse solo/a es muy com√∫n en la adolescencia, incluso estando rodeado/a de gente. Es parte de descubrir tu identidad. Buscar actividades donde puedas conocer personas con intereses similares puede ayudar.",
        seguimiento: ["¬øQu√© actividades te gustan hacer?", "¬øHas pensado en unirte a alg√∫n grupo o club?"]
      },
      { 
        claves: ["enojado todo el tiempo", "ira", "furioso"], 
        respuesta: "üò§ Sentir enojo frecuente es normal en la adolescencia por los cambios hormonales. Lo importante es expresarlo de forma saludable: ejercicio, arte, m√∫sica, escribir, o hablar con alguien de confianza.",
        seguimiento: ["¬øQu√© cosas te ayudan a calmarte cuando est√°s enojado/a?"]
      },
      { 
        claves: ["miedo al futuro", "ansiedad futuro", "qu√© ser√° de m√≠"], 
        respuesta: "üéØ Es normal sentir miedo por el futuro. No tienes que tenerlo todo resuelto ahora. Conc√©ntrate en explorar tus intereses, desarrollar tus habilidades y recordar que est√° bien cambiar de opini√≥n sobre tus planes.",
        seguimiento: ["¬øQu√© te emociona del futuro, adem√°s de lo que te preocupa?"]
      },

      // Temas espec√≠ficos
      { 
        claves: ["redes sociales", "instagram", "tiktok", "bullying online"], 
        respuesta: "üì± Las redes sociales pueden ser geniales para conectar, pero tambi√©n pueden causar ansiedad. Consejos: limita el tiempo de uso, no te compares con lo que ves online, bloquea contenido negativo y habla con adultos si algo te molesta.",
        seguimiento: ["¬øC√≥mo te hacen sentir las redes sociales generalmente?"]
      },
      { 
        claves: ["escuela estr√©s", "estudios dif√≠ciles", "presi√≥n acad√©mica"], 
        respuesta: "üìö La presi√≥n acad√©mica puede ser agobiante. Recuerda: organiza tu tiempo, pide ayuda cuando la necesites, toma descansos regulares y recuerda que las notas no definen tu valor como persona.",
        seguimiento: ["¬øEn qu√© materias o aspectos escolares necesitas m√°s apoyo?"]
      },
      { 
        claves: ["primer amor", "enamorado", "relaciones"], 
        respuesta: "üíï Los primeros sentimientos rom√°nticos son intensos y normales. Es importante ir despacio, comunicarte honestamente, respetar l√≠mites (tuyos y de la otra persona) y recordar que est√° bien si las cosas no funcionan.",
        seguimiento: ["¬øTe sientes c√≥modo/a hablando sobre relaciones con alguien de confianza?"]
      }
    ];

    // Respuestas de seguimiento m√°s naturales
    const respuestasSeguimiento = [
      "üí≠ ¬øHay algo m√°s espec√≠fico sobre esto que te gustar√≠a saber?",
      "ü§î ¬øC√≥mo te sientes despu√©s de leer esto?",
      "‚ú® ¬øTe gustar√≠a que hablemos de alg√∫n otro aspecto?",
      "üåü ¬øHay alguna situaci√≥n particular en la que esto se aplique a tu vida?",
      "üí¨ ¬øQuieres contarme m√°s sobre tu experiencia con esto?"
    ];

    function abrirChat() {
      const widget = document.getElementById('chat-widget');
      const badge = document.getElementById('notification-badge');
      
      if (!chatAbierto) {
        widget.classList.remove('hidden');
        chatAbierto = true;
        badge.classList.add('hidden');
        
        // Si es la primera vez, mostrar mensaje de bienvenida mejorado
        if (contadorMensajes === 0) {
          setTimeout(() => {
            mostrarMensajeBienvenida();
          }, 500);
        }
        
        setTimeout(() => {
          document.getElementById('chat-input').focus();
        }, 600);
      } else {
        cerrarChat();
      }
    }

    function cerrarChat() {
      const widget = document.getElementById('chat-widget');
      widget.classList.add('hidden');
      chatAbierto = false;
    }

    function minimizarChat() {
      cerrarChat();
      setTimeout(() => {
        document.getElementById('notification-badge').classList.remove('hidden');
      }, 300);
    }

    function mostrarMensajeBienvenida() {
      if (contadorMensajes === 0) {
        const mensajesExtra = [
          "üåü Puedes preguntarme sobre cambios f√≠sicos y emocionales en la preadolescencia y adolescencia.",
          "üí° Tambi√©n tengo consejos para padres que quieren entender mejor a sus hijos adolescentes.",
          "üí¨ ¬°No dudes en escribirme cualquier duda que tengas! Estoy aqu√≠ para ayudarte."
        ];
        
        mensajesExtra.forEach((mensaje, index) => {
          setTimeout(() => {
            agregarMensaje(mensaje, 'bot');
          }, (index + 1) * 1000);
        });
      }
    }

    function enviarPreguntaRapida(pregunta) {
      document.getElementById('chat-input').value = pregunta;
      enviarMensaje();
    }

    function enviarMensaje() {
      const input = document.getElementById('chat-input');
      const mensaje = input.value.trim();
      
      if (mensaje === '') return;
      
      agregarMensaje(mensaje, 'user');
      input.value = '';
      actualizarContador(0);
      
      // Ocultar respuestas r√°pidas despu√©s del primer mensaje del usuario
      if (contadorMensajes === 1) {
        document.getElementById('quick-replies').style.display = 'none';
      }
      
      mostrarIndicadorEscritura();
      
      // Simular delay de respuesta m√°s realista
      setTimeout(() => {
        const respuesta = generarRespuesta(mensaje);
        ocultarIndicadorEscritura();
        agregarMensaje(respuesta.respuesta, 'bot');
        
        // Agregar pregunta de seguimiento si existe
        if (respuesta.seguimiento) {
          setTimeout(() => {
            const preguntaSeguimiento = respuesta.seguimiento[Math.floor(Math.random() * respuesta.seguimiento.length)];
            agregarMensaje(preguntaSeguimiento, 'bot', true);
          }, 1500);
        }
      }, 1800 + Math.random() * 1200);
    }

    function agregarMensaje(contenido, remitente, esSeguimiento = false) {
      const chatBody = document.getElementById('chat-body');
      const contenedorMensaje = document.createElement('div');
      contenedorMensaje.className = `message-container ${remitente}-message`;
      
      const avatar = document.createElement('div');
      avatar.className = 'message-avatar';
      avatar.innerHTML = remitente === 'bot' ? '<i class="fas fa-robot"></i>' : '<i class="fas fa-user"></i>';
      
      const contenidoMensaje = document.createElement('div');
      contenidoMensaje.className = 'message-content';
      
      const burbuja = document.createElement('div');
      burbuja.className = `message-bubble ${esSeguimiento ? 'follow-up-message' : ''}`;
      burbuja.textContent = contenido;
      
      const tiempo = document.createElement('div');
      tiempo.className = 'message-time';
      tiempo.textContent = obtenerTiempoActual();
      
      contenidoMensaje.appendChild(burbuja);
      contenidoMensaje.appendChild(tiempo);
      
      contenedorMensaje.appendChild(avatar);
      contenedorMensaje.appendChild(contenidoMensaje);
      
      chatBody.appendChild(contenedorMensaje);
      chatBody.scrollTop = chatBody.scrollHeight;
      
      if (remitente === 'user') {
        contadorMensajes++;
        conversacionActual.push({ tipo: 'user', contenido: contenido, tiempo: new Date() });
      } else {
        conversacionActual.push({ tipo: 'bot', contenido: contenido, tiempo: new Date() });
      }
    }

    function generarRespuesta(mensaje) {
      const mensajeLower = mensaje.toLowerCase();
      
      // Buscar coincidencias en la base de conocimiento
      for (let item of baseConocimiento) {
        if (item.claves.some(clave => mensajeLower.includes(clave))) {
          return {
            respuesta: item.respuesta,
            seguimiento: item.seguimiento
          };
        }
      }
      
      // Respuestas para saludos
      if (mensajeLower.includes('hola') || mensajeLower.includes('buenos') || mensajeLower.includes('buenas')) {
        return {
          respuesta: "¬°Hola! üòä Me alegra que est√©s aqu√≠. Soy CAdo Assistant y estoy para ayudarte con cualquier duda sobre preadolescencia, adolescencia o consejos para padres. ¬øEn qu√© puedo ayudarte hoy?",
          seguimiento: ["¬øHay algo espec√≠fico que te est√© preocupando?"]
        };
      }
      
      // Respuestas para agradecimientos
      if (mensajeLower.includes('gracias') || mensajeLower.includes('thank')) {
        return {
          respuesta: "¬°De nada! üòä Me alegra poder ayudarte. Recuerda que siempre puedes volver a preguntarme lo que necesites. ¬øHay algo m√°s en lo que pueda ayudarte?",
          seguimiento: null
        };
      }
      
      // Respuesta por defecto m√°s √∫til
      return {
        respuesta: "ü§î No tengo una respuesta espec√≠fica para eso, pero me interesa ayudarte. Puedes preguntarme sobre:\n\n‚Ä¢ Cambios en la preadolescencia (9-13 a√±os)\n‚Ä¢ Desaf√≠os de la adolescencia (13-21 a√±os)\n‚Ä¢ Consejos para padres\n‚Ä¢ Manejo de emociones\n‚Ä¢ Relaciones familiares y sociales\n\n¬øAlguno de estos temas te interesa?",
        seguimiento: null
      };
    }

    function mostrarIndicadorEscritura() {
      escribiendo = true;
      const indicador = document.getElementById('typing-indicator');
      indicador.classList.remove('hidden');
      
      const chatBody = document.getElementById('chat-body');
      chatBody.scrollTop = chatBody.scrollHeight;
    }

    function ocultarIndicadorEscritura() {
      escribiendo = false;
      document.getElementById('typing-indicator').classList.add('hidden');
    }

    function obtenerTiempoActual() {
      const ahora = new Date();
      return ahora.toLocaleTimeString('es-ES', { hour: '2-digit', minute: '2-digit' });
    }

    function manejarEnter(event) {
      if (event.key === 'Enter' && !event.shiftKey) {
        event.preventDefault();
        enviarMensaje();
      }
    }

    // Funciones para emojis
    function toggleEmojiPicker() {
      const picker = document.getElementById('emoji-picker');
      picker.classList.toggle('hidden');
    }

    function insertarEmoji(emoji) {
      const input = document.getElementById('chat-input');
      const posicion = input.selectionStart;
      const valorActual = input.value;
      const nuevoValor = valorActual.substring(0, posicion) + emoji + valorActual.substring(posicion);
      
      input.value = nuevoValor;
      input.focus();
      input.setSelectionRange(posicion + emoji.length, posicion + emoji.length);
      
      actualizarContador(nuevoValor.length);
      document.getElementById('emoji-picker').classList.add('hidden');
    }

    // Contador de caracteres
    function actualizarContador(longitud) {
      const contador = document.getElementById('char-counter');
      const restantes = 300 - longitud;
      contador.textContent = restantes;
      
      contador.className = 'char-counter';
      if (restantes < 50) contador.classList.add('warning');
      if (restantes < 20) contador.classList.add('danger');
    }

    // Event listeners
    document.getElementById('chat-input').addEventListener('input', function(e) {
      actualizarContador(e.target.value.length);
    });

    // Cerrar emoji picker al hacer click fuera
    document.addEventListener('click', function(e) {
      const picker = document.getElementById('emoji-picker');
      const emojiBtn = document.querySelector('.emoji-btn');
      
      if (!picker.contains(e.target) && !emojiBtn.contains(e.target)) {
        picker.classList.add('hidden');
      }
    });

    // Inicializaci√≥n
    document.addEventListener('DOMContentLoaded', function() {
      // Mostrar notificaci√≥n despu√©s de unos segundos si no se ha abierto el chat
      setTimeout(() => {
        if (!chatAbierto) {
          document.getElementById('notification-badge').classList.remove('hidden');
        }
      }, 10000);
    });
    // Carrusel
let indiceCarrusel = 0;

function moverCarrusel(direccion) {
  const carrusel = document.getElementById("carrusel");
  const imagenes = carrusel.querySelectorAll("img");
  const total = imagenes.length;

  indiceCarrusel = (indiceCarrusel + direccion + total) % total;

  carrusel.style.transform = `translateX(-${indiceCarrusel * 100}%)`;
}
</script>
</body>
</html>